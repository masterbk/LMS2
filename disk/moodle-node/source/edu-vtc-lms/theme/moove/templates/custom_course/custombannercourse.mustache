{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_moove/drawers

    Boost drawer template.

    Context variables required for this template:
    * sitename - The name of the site
    * output - The core renderer for the page
    * bodyattributes - attributes for the body tag as a string of html attributes
    * sidepreblocks - HTML for the blocks
    * hasblocks - true if there are blocks on this page
    * courseindexopen - true if the nav drawer should be open on page load
    * regionmainsettingsmenu - HTML for the region main settings menu
    * hasregionmainsettingsmenu - There is a region main settings menu on this page.

    Example context (json):
    {
        "sitename": "Moodle",
        "output": {
            "doctype": "<!DOCTYPE html>",
            "page_title": "Test page",
            "favicon": "favicon.ico",
            "main_content": "<h1>Headings make html validators happier</h1>"
         },
        "bodyattributes":"",
        "sidepreblocks": "<h2>Blocks html goes here</h2>",
        "hasblocks":true,
        "courseindexopen": true,
        "navdraweropen": false,
        "blockdraweropen": true,
        "regionmainsettingsmenu": "",
        "hasregionmainsettingsmenu": false,
        "addblockbutton": ""
    }
}}
<div class="hidden-md" style="border-radius: 24px;box-shadow: 665px 0 250px 8px #0060AD inset, 50px 0 80px 0 rgba(0, 0, 0, 0.05);">

    <div class="custom-course-banner position-relative" style='background-image: url("{{course.thumbnail}}"),linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%);'>
        <div>
            <span class="font-weight-bold" style="font-size: 24px">{{course.fullname}}</span>
            <div class="custom-course-summary">{{{course.summary}}}</div>
        </div>

        <div class="d-flex flex-row flex-wrap"  style="gap:8px">
            <p class="banner-label cutom-p-no-margin"><i class="banner-label-icon fa-solid fa-book-open"></i>{{course.totalactivity}} {{#str}}activity,theme_moove{{/str}}</p>
            {{#course.time}}
            <p class="banner-label cutom-p-no-margin"><i class="banner-label-icon fa fa-clock"></i> {{course.time}}</p>
            {{/course.time}}
            <p class="banner-label cutom-p-no-margin"><i class="banner-label-icon fa-solid fa-users"></i>{{course.student}} {{#str}}enroll,theme_moove{{/str}}</p>
            <p class="banner-label cutom-p-no-margin"> {{course.progress}}</p>
            {{#course.showlistdocument}}
            <p class="banner-label cutom-p-no-margin background-color-1890FF text-white " data-toggle="modal" data-target=".custom-course-modal-document" style="cursor: pointer">
                <i>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3.43774 17.5C2.85758 17.5 2.30118 17.2695 1.89095 16.8593C1.48071 16.4491 1.25024 15.8927 1.25024 15.3125V12.1875C1.25024 11.9389 1.34902 11.7004 1.52483 11.5246C1.70065 11.3488 1.9391 11.25 2.18774 11.25C2.43638 11.25 2.67484 11.3488 2.85066 11.5246C3.02647 11.7004 3.12524 11.9389 3.12524 12.1875V15.3125C3.12524 15.485 3.26524 15.625 3.43774 15.625H16.5627C16.6456 15.625 16.7251 15.5921 16.7837 15.5335C16.8423 15.4749 16.8752 15.3954 16.8752 15.3125V12.1875C16.8752 11.9389 16.974 11.7004 17.1498 11.5246C17.3256 11.3488 17.5641 11.25 17.8127 11.25C18.0614 11.25 18.2998 11.3488 18.4757 11.5246C18.6515 11.7004 18.7502 11.9389 18.7502 12.1875V15.3125C18.7502 15.8927 18.5198 16.4491 18.1095 16.8593C17.6993 17.2695 17.1429 17.5 16.5627 17.5H3.43774Z" fill="white"/>
                        <path d="M9.0624 9.61125V2.5C9.0624 2.25136 9.16118 2.0129 9.33699 1.83709C9.51281 1.66127 9.75126 1.5625 9.9999 1.5625C10.2485 1.5625 10.487 1.66127 10.6628 1.83709C10.8386 2.0129 10.9374 2.25136 10.9374 2.5V9.61125L13.3999 7.15C13.4869 7.063 13.5902 6.99399 13.7039 6.9469C13.8175 6.89982 13.9394 6.87558 14.0624 6.87558C14.1854 6.87558 14.3073 6.89982 14.4209 6.9469C14.5346 6.99399 14.6379 7.063 14.7249 7.15C14.8119 7.237 14.8809 7.34029 14.928 7.45396C14.9751 7.56763 14.9993 7.68946 14.9993 7.8125C14.9993 7.93554 14.9751 8.05737 14.928 8.17104C14.8809 8.28471 14.8119 8.388 14.7249 8.475L10.6624 12.5375C10.5754 12.6246 10.4722 12.6937 10.3585 12.7408C10.2448 12.7879 10.123 12.8122 9.9999 12.8122C9.87684 12.8122 9.75499 12.7879 9.64131 12.7408C9.52763 12.6937 9.42436 12.6246 9.3374 12.5375L5.2749 8.475C5.1879 8.388 5.11889 8.28471 5.07181 8.17104C5.02472 8.05737 5.00049 7.93554 5.00049 7.8125C5.00049 7.68946 5.02472 7.56763 5.07181 7.45396C5.11889 7.34029 5.1879 7.237 5.2749 7.15C5.36191 7.063 5.46519 6.99399 5.57886 6.9469C5.69253 6.89982 5.81437 6.87558 5.9374 6.87558C6.06044 6.87558 6.18228 6.89982 6.29595 6.9469C6.40962 6.99399 6.5129 7.063 6.59991 7.15L9.0624 9.61125Z" fill="white"/>
                    </svg>
                </i> {{#str}}downloaddocument,theme_moove{{/str}}
            </p>
            <div class="modal fade custom-course-modal-document" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                       <p style="color: #0066BC;text-align: center;font-size: 24px;font-weight: 600;">{{#str}}documentforcourse,theme_moove{{/str}}</p>
                        <p style="color: #000;font-size: 20px;"> {{course.numberlistdocument}} {{#str}}documentforcourse,theme_moove{{/str}}</p>
                            <ul class="d-flex flex-column">
                                {{#course.listdocument}}
                                <li class="d-flex flex-row align-items-center">
                                    <div style="flex-basis: 80%;font-weight: 600">
                                        {{name}}
                                    </div>
                                    <div style="flex-basis: 20%" class="d-flex justify-content-end">
                                        <a href="{{url}}">
                                            <button class="btn">
                                                {{#str}}download,theme_moove{{/str}}
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                    <path d="M3.43774 17.5C2.85758 17.5 2.30118 17.2695 1.89095 16.8593C1.48071 16.4491 1.25024 15.8927 1.25024 15.3125V12.1875C1.25024 11.9389 1.34902 11.7004 1.52483 11.5246C1.70065 11.3488 1.9391 11.25 2.18774 11.25C2.43638 11.25 2.67484 11.3488 2.85066 11.5246C3.02647 11.7004 3.12524 11.9389 3.12524 12.1875V15.3125C3.12524 15.485 3.26524 15.625 3.43774 15.625H16.5627C16.6456 15.625 16.7251 15.5921 16.7837 15.5335C16.8423 15.4749 16.8752 15.3954 16.8752 15.3125V12.1875C16.8752 11.9389 16.974 11.7004 17.1498 11.5246C17.3256 11.3488 17.5641 11.25 17.8127 11.25C18.0614 11.25 18.2998 11.3488 18.4757 11.5246C18.6515 11.7004 18.7502 11.9389 18.7502 12.1875V15.3125C18.7502 15.8927 18.5198 16.4491 18.1095 16.8593C17.6993 17.2695 17.1429 17.5 16.5627 17.5H3.43774Z" fill="white"/>
                                                    <path d="M9.0624 9.61125V2.5C9.0624 2.25136 9.16118 2.0129 9.33699 1.83709C9.51281 1.66127 9.75126 1.5625 9.9999 1.5625C10.2485 1.5625 10.487 1.66127 10.6628 1.83709C10.8386 2.0129 10.9374 2.25136 10.9374 2.5V9.61125L13.3999 7.15C13.4869 7.063 13.5902 6.99399 13.7039 6.9469C13.8175 6.89982 13.9394 6.87558 14.0624 6.87558C14.1854 6.87558 14.3073 6.89982 14.4209 6.9469C14.5346 6.99399 14.6379 7.063 14.7249 7.15C14.8119 7.237 14.8809 7.34029 14.928 7.45396C14.9751 7.56763 14.9993 7.68946 14.9993 7.8125C14.9993 7.93554 14.9751 8.05737 14.928 8.17104C14.8809 8.28471 14.8119 8.388 14.7249 8.475L10.6624 12.5375C10.5754 12.6246 10.4722 12.6937 10.3585 12.7408C10.2448 12.7879 10.123 12.8122 9.9999 12.8122C9.87684 12.8122 9.75499 12.7879 9.64131 12.7408C9.52763 12.6937 9.42436 12.6246 9.3374 12.5375L5.2749 8.475C5.1879 8.388 5.11889 8.28471 5.07181 8.17104C5.02472 8.05737 5.00049 7.93554 5.00049 7.8125C5.00049 7.68946 5.02472 7.56763 5.07181 7.45396C5.11889 7.34029 5.1879 7.237 5.2749 7.15C5.36191 7.063 5.46519 6.99399 5.57886 6.9469C5.69253 6.89982 5.81437 6.87558 5.9374 6.87558C6.06044 6.87558 6.18228 6.89982 6.29595 6.9469C6.40962 6.99399 6.5129 7.063 6.59991 7.15L9.0624 9.61125Z" fill="white"/>
                                                </svg>
                                            </button>
                                        </a>
                                    </div>
                                </li>
                                {{/course.listdocument}}

                            </ul>

                        <!-- Modal Footer -->
                        <div class="d-flex flex-row justify-content-center" style="gap:6px">
                            <button type="button" class="btn custom-course-modal-button-footer" style="background: #9BA2AE;" data-dismiss="modal">{{#str}}close,theme_moove{{/str}}</button>
                            <button type="button" class="btn custom-course-modal-button-footer downloadall" style=" background: #188EFA;">{{#str}}downloadall,theme_moove{{/str}}</button>
                        </div>

                    </div>
                    <!-- Modal Content: ends -->

                </div>

            </div>
            {{/course.showlistdocument}}
        </div>
    </div>
</div>
<div class="hidden-lg" style="border-radius: 24px;box-shadow: 665px 0 250px 8px #0060AD inset, 50px 0 80px 0 rgba(0, 0, 0, 0.05);">

    <div class="custom-course-banner position-relative" style='
            background: linear-gradient(0deg, rgba(0, 0, 0, 0.20) 0%, rgba(0, 0, 0, 0.20) 100%), url("{{course.thumbnail}}"), lightgray 0 -212.676px / 100% 286.877% no-repeat;
            box-shadow: 665px 0 250px 8px #0060AD inset, 50px 0 80px 0 rgba(0, 0, 0, 0.05);'>
        <div>
            <span class="font-weight-bold" style="font-size: 24px">{{course.fullname}}</span>
            <div class="custom-course-summary">{{{course.summary}}}</div>
        </div>
        <div class="d-flex flex-row flex-wrap"  style="gap:8px">
            <p class="banner-label cutom-p-no-margin"><i class="banner-label-icon fa-solid fa-book-open"></i>{{course.totalactivity}} {{#str}}activity,theme_moove{{/str}}</p>
            <p class="banner-label cutom-p-no-margin"><i class="banner-label-icon fa-solid fa-users"></i>{{course.student}} {{#str}}enroll,theme_moove{{/str}}</p>
        </div>

    </div>
    <div class="d-flex flex-row" style="background-color: white;height: 20.02vw;padding: 2.57vw 3.27vw">
        <div class="d-flex flex-column" style="flex-basis: 69%;">
            {{#course.time}}
                <p class="cutom-p-no-margin" style="color: #000;font-size: 3.9vw;font-weight: 400;">{{#str}}timelearn,theme_moove{{/str}} <b>{{course.time}}</b></p>
            {{/course.time}}
            <p class="" style="margin:2vw 0;color: #8C8C8C;font-size: 2.8vw;font-weight: 500;">{{#str}}learningprocess,theme_moove{{/str}} {{course.progressnumber}} %</p>
            <div class="progress" style="width:90%;background-color: #D9D9D9;height: 5px">
                <div class="progress-bar" style="width: {{course.progressnumber}}%;background-color:rgba(52, 181, 58, 1)" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>
        <div style="border-left: 1px solid #F0F0F0;height: 15.8vw;margin: auto"></div>
        <div class="d-flex justify-content-center align-items-center flex-column " style="gap:10px;flex-basis: 30%;cursor: pointer" data-toggle="modal" data-dismiss="modal" data-target=".custom-course-modal-document-md">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
                <path d="M25 17V22.3333C25 23.0406 24.719 23.7189 24.2189 24.219C23.7189 24.719 23.0406 25 22.3333 25H3.66667C2.95942 25 2.28115 24.719 1.78105 24.219C1.28095 23.7189 1 23.0406 1 22.3333V17M6.33333 10.3333L13 17M13 17L19.6667 10.3333M13 17V1" stroke="#1890FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>{{#str}}downloaddocument,theme_moove{{/str}}</span>
        </div>
        <div class="modal fade custom-course-modal-document-md" id="" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog" style="margin-top: 25%">
                <div class="modal-content" style="padding: 24px 15px">
                    <span style="color: #0066BC;text-align: center;font-size: 20px;font-weight: 600;">{{#str}}documentforcourse,theme_moove{{/str}}</span>
                    <span style="color: #000;text-align: center;font-size: 16px;font-weight: 400;"> {{course.numberlistdocument}} {{#str}}documentforcourse,theme_moove{{/str}}</span>
                    <ul class="d-flex flex-column" style="padding-left: 0;gap:10px;margin-top: 17px">
                        {{#course.listdocument}}
                            <li class="d-flex flex-row align-items-center" style="padding:8px 7px;border-radius: 10px;background: #ECECEC;box-shadow: 0 50px 80px 0 rgba(0, 0, 0, 0.05);">
                                <div style="flex-basis: 80%;font-weight: 400">
                                    {{name}}
                                </div>
                                <div style="flex-basis: 20%" class="d-flex justify-content-end">
                                    <a href="{{url}}">
                                        <button class="btn" style="border-radius: 8px;border: 1px solid #188EFB;background: #188EFA;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                                <path d="M3.43774 17.5C2.85758 17.5 2.30118 17.2695 1.89095 16.8593C1.48071 16.4491 1.25024 15.8927 1.25024 15.3125V12.1875C1.25024 11.9389 1.34902 11.7004 1.52483 11.5246C1.70065 11.3488 1.9391 11.25 2.18774 11.25C2.43638 11.25 2.67484 11.3488 2.85066 11.5246C3.02647 11.7004 3.12524 11.9389 3.12524 12.1875V15.3125C3.12524 15.485 3.26524 15.625 3.43774 15.625H16.5627C16.6456 15.625 16.7251 15.5921 16.7837 15.5335C16.8423 15.4749 16.8752 15.3954 16.8752 15.3125V12.1875C16.8752 11.9389 16.974 11.7004 17.1498 11.5246C17.3256 11.3488 17.5641 11.25 17.8127 11.25C18.0614 11.25 18.2998 11.3488 18.4757 11.5246C18.6515 11.7004 18.7502 11.9389 18.7502 12.1875V15.3125C18.7502 15.8927 18.5198 16.4491 18.1095 16.8593C17.6993 17.2695 17.1429 17.5 16.5627 17.5H3.43774Z" fill="white"/>
                                                <path d="M9.0624 9.61125V2.5C9.0624 2.25136 9.16118 2.0129 9.33699 1.83709C9.51281 1.66127 9.75126 1.5625 9.9999 1.5625C10.2485 1.5625 10.487 1.66127 10.6628 1.83709C10.8386 2.0129 10.9374 2.25136 10.9374 2.5V9.61125L13.3999 7.15C13.4869 7.063 13.5902 6.99399 13.7039 6.9469C13.8175 6.89982 13.9394 6.87558 14.0624 6.87558C14.1854 6.87558 14.3073 6.89982 14.4209 6.9469C14.5346 6.99399 14.6379 7.063 14.7249 7.15C14.8119 7.237 14.8809 7.34029 14.928 7.45396C14.9751 7.56763 14.9993 7.68946 14.9993 7.8125C14.9993 7.93554 14.9751 8.05737 14.928 8.17104C14.8809 8.28471 14.8119 8.388 14.7249 8.475L10.6624 12.5375C10.5754 12.6246 10.4722 12.6937 10.3585 12.7408C10.2448 12.7879 10.123 12.8122 9.9999 12.8122C9.87684 12.8122 9.75499 12.7879 9.64131 12.7408C9.52763 12.6937 9.42436 12.6246 9.3374 12.5375L5.2749 8.475C5.1879 8.388 5.11889 8.28471 5.07181 8.17104C5.02472 8.05737 5.00049 7.93554 5.00049 7.8125C5.00049 7.68946 5.02472 7.56763 5.07181 7.45396C5.11889 7.34029 5.1879 7.237 5.2749 7.15C5.36191 7.063 5.46519 6.99399 5.57886 6.9469C5.69253 6.89982 5.81437 6.87558 5.9374 6.87558C6.06044 6.87558 6.18228 6.89982 6.29595 6.9469C6.40962 6.99399 6.5129 7.063 6.59991 7.15L9.0624 9.61125Z" fill="white"/>
                                            </svg>
                                        </button>
                                    </a>
                                </div>
                            </li>
                        {{/course.listdocument}}

                    </ul>

                    <!-- Modal Footer -->
                    <div class="d-flex flex-row justify-content-center w-100" style="gap:6px">
                        <button type="button" class="btn custom-course-modal-button-footer" style="flex-basis:50%;background: #9BA2AE;" data-dismiss="modal">{{#str}}close,theme_moove{{/str}}</button>
                        <button type="button" class="btn custom-course-modal-button-footer downloadall" style="flex-basis: 50%; background: #188EFA;">{{#str}}downloadall,theme_moove{{/str}}</button>
                    </div>

                </div>
            </div>
        </div>



    </div>
</div>
<script>
    $(document).ready(function(){
        $('.downloadall').on('click', function () {
                {{#course.listdocument}}
                    var link = document.createElement('a');
                    link.href = "{{url}}";
                    link.download = "{{name}}";
                    link.click();
                    link.remove();
                    {{/course.listdocument}}
        })
    });


</script>


